<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>typesafe - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module-hashing-DefaultHasher.html">DefaultHasher</a><ul class='methods'><li data-type='method'><a href="module-hashing-DefaultHasher.html#.fromSeed">fromSeed</a></li><li data-type='method'><a href="module-hashing-DefaultHasher.html#.new">new</a></li><li data-type='method'><a href="module-hashing-DefaultHasher.html#.withOpts">withOpts</a></li><li data-type='method'><a href="module-hashing-DefaultHasher.html#buildHasher">buildHasher</a></li><li data-type='method'><a href="module-hashing-DefaultHasher.html#digest">digest</a></li><li data-type='method'><a href="module-hashing-DefaultHasher.html#update">update</a></li></ul></li><li><a href="module-hashing-HashMap.html">HashMap</a><ul class='methods'><li data-type='method'><a href="module-hashing-HashMap.html#.fromSeq">fromSeq</a></li><li data-type='method'><a href="module-hashing-HashMap.html#.fromSeqWithOpts">fromSeqWithOpts</a></li><li data-type='method'><a href="module-hashing-HashMap.html#.new">new</a></li><li data-type='method'><a href="module-hashing-HashMap.html#clear">clear</a></li><li data-type='method'><a href="module-hashing-HashMap.html#delete">delete</a></li><li data-type='method'><a href="module-hashing-HashMap.html#entries">entries</a></li><li data-type='method'><a href="module-hashing-HashMap.html#forEach">forEach</a></li><li data-type='method'><a href="module-hashing-HashMap.html#get">get</a></li><li data-type='method'><a href="module-hashing-HashMap.html#getPair">getPair</a></li><li data-type='method'><a href="module-hashing-HashMap.html#has">has</a></li><li data-type='method'><a href="module-hashing-HashMap.html#keys">keys</a></li><li data-type='method'><a href="module-hashing-HashMap.html#set">set</a></li><li data-type='method'><a href="module-hashing-HashMap.html#size">size</a></li><li data-type='method'><a href="module-hashing-HashMap.html#values">values</a></li></ul></li><li><a href="module-hashing-HashSet.html">HashSet</a><ul class='methods'><li data-type='method'><a href="module-hashing-HashSet.html#.fromSeq">fromSeq</a></li><li data-type='method'><a href="module-hashing-HashSet.html#.fromSeqWithOpts">fromSeqWithOpts</a></li><li data-type='method'><a href="module-hashing-HashSet.html#.new">new</a></li><li data-type='method'><a href="module-hashing-HashSet.html#add">add</a></li><li data-type='method'><a href="module-hashing-HashSet.html#clear">clear</a></li><li data-type='method'><a href="module-hashing-HashSet.html#delete">delete</a></li><li data-type='method'><a href="module-hashing-HashSet.html#entries">entries</a></li><li data-type='method'><a href="module-hashing-HashSet.html#forEach">forEach</a></li><li data-type='method'><a href="module-hashing-HashSet.html#get">get</a></li><li data-type='method'><a href="module-hashing-HashSet.html#has">has</a></li><li data-type='method'><a href="module-hashing-HashSet.html#size">size</a></li><li data-type='method'><a href="module-hashing-HashSet.html#values">values</a></li></ul></li><li><a href="module-hashing-UnorderedHasher.html">UnorderedHasher</a><ul class='methods'><li data-type='method'><a href="module-hashing-UnorderedHasher.html#.fromBuildHasher">fromBuildHasher</a></li><li data-type='method'><a href="module-hashing-UnorderedHasher.html#.new">new</a></li><li data-type='method'><a href="module-hashing-UnorderedHasher.html#.withOpts">withOpts</a></li><li data-type='method'><a href="module-hashing-UnorderedHasher.html#buildHasher">buildHasher</a></li><li data-type='method'><a href="module-hashing-UnorderedHasher.html#digest">digest</a></li><li data-type='method'><a href="module-hashing-UnorderedHasher.html#update">update</a></li></ul></li><li><a href="module-trait-HybridWeakMap.html">HybridWeakMap</a></li><li><a href="module-trait-Trait.html">Trait</a><ul class='methods'><li data-type='method'><a href="module-trait-Trait.html#impl">impl</a></li><li data-type='method'><a href="module-trait-Trait.html#implDerived">implDerived</a></li><li data-type='method'><a href="module-trait-Trait.html#implStatic">implStatic</a></li><li data-type='method'><a href="module-trait-Trait.html#implWild">implWild</a></li><li data-type='method'><a href="module-trait-Trait.html#implWildStatic">implWildStatic</a></li><li data-type='method'><a href="module-trait-Trait.html#invoke">invoke</a></li><li data-type='method'><a href="module-trait-Trait.html#lookupType">lookupType</a></li><li data-type='method'><a href="module-trait-Trait.html#lookupValue">lookupValue</a></li></ul></li><li><a href="module-trait-TraitNotImplemented.html">TraitNotImplemented</a></li></ul><h3>Modules</h3><ul><li><a href="module-functional.html">functional</a><ul class='methods'><li data-type='method'><a href="module-functional.html#~apply">apply</a></li><li data-type='method'><a href="module-functional.html#~apply1">apply1</a></li><li data-type='method'><a href="module-functional.html#~call">call</a></li><li data-type='method'><a href="module-functional.html#~compose">compose</a></li><li data-type='method'><a href="module-functional.html#~curry">curry</a></li><li data-type='method'><a href="module-functional.html#~exec">exec</a></li><li data-type='method'><a href="module-functional.html#~identity">identity</a></li><li data-type='method'><a href="module-functional.html#~let_in">let_in</a></li><li data-type='method'><a href="module-functional.html#~pipe">pipe</a></li><li data-type='method'><a href="module-functional.html#~withFunctionName">withFunctionName</a></li></ul></li><li><a href="module-hashing.html">hashing</a><ul class='methods'><li data-type='method'><a href="module-hashing.html#~bytes2hex">bytes2hex</a></li><li data-type='method'><a href="module-hashing.html#~defaultBuildHasher">defaultBuildHasher</a></li><li data-type='method'><a href="module-hashing.html#~hash">hash</a></li><li data-type='method'><a href="module-hashing.html#~hashDirectly">hashDirectly</a></li><li data-type='method'><a href="module-hashing.html#~hashmap">hashmap</a></li><li data-type='method'><a href="module-hashing.html#~hashSeq">hashSeq</a></li><li data-type='method'><a href="module-hashing.html#~hashSeqWith">hashSeqWith</a></li><li data-type='method'><a href="module-hashing.html#~hashset">hashset</a></li><li data-type='method'><a href="module-hashing.html#~hashUnordered">hashUnordered</a></li><li data-type='method'><a href="module-hashing.html#~hashUnorderedWith">hashUnorderedWith</a></li><li data-type='method'><a href="module-hashing.html#~hashWith">hashWith</a></li><li data-type='method'><a href="module-hashing.html#~hex2bytes">hex2bytes</a></li><li data-type='method'><a href="module-hashing.html#~randomBuildHasher">randomBuildHasher</a></li><li data-type='method'><a href="module-hashing.html#~seededBuildHasher">seededBuildHasher</a></li><li data-type='method'><a href="module-hashing.html#~unorderedBuildHasher">unorderedBuildHasher</a></li></ul></li><li><a href="module-op.html">op</a><ul class='methods'><li data-type='method'><a href="module-op.html#~aint">aint</a></li><li data-type='method'><a href="module-op.html#~and">and</a></li><li data-type='method'><a href="module-op.html#~is">is</a></li><li data-type='method'><a href="module-op.html#~mul">mul</a></li><li data-type='method'><a href="module-op.html#~nand">nand</a></li><li data-type='method'><a href="module-op.html#~nor">nor</a></li><li data-type='method'><a href="module-op.html#~not">not</a></li><li data-type='method'><a href="module-op.html#~or">or</a></li><li data-type='method'><a href="module-op.html#~plus">plus</a></li><li data-type='method'><a href="module-op.html#~xnor">xnor</a></li><li data-type='method'><a href="module-op.html#~xor">xor</a></li></ul></li><li><a href="module-sequence.html">sequence</a><ul class='methods'><li data-type='method'><a href="module-sequence.html#~all">all</a></li><li data-type='method'><a href="module-sequence.html#~any">any</a></li><li data-type='method'><a href="module-sequence.html#~append">append</a></li><li data-type='method'><a href="module-sequence.html#~assertSequenceEquals">assertSequenceEquals</a></li><li data-type='method'><a href="module-sequence.html#~cartesian">cartesian</a></li><li data-type='method'><a href="module-sequence.html#~cartesian2">cartesian2</a></li><li data-type='method'><a href="module-sequence.html#~chunkify">chunkify</a></li><li data-type='method'><a href="module-sequence.html#~chunkifyShort">chunkifyShort</a></li><li data-type='method'><a href="module-sequence.html#~chunkifyWithFallback">chunkifyWithFallback</a></li><li data-type='method'><a href="module-sequence.html#~concat">concat</a></li><li data-type='method'><a href="module-sequence.html#~contains">contains</a></li><li data-type='method'><a href="module-sequence.html#~count">count</a></li><li data-type='method'><a href="module-sequence.html#~dict">dict</a></li><li data-type='method'><a href="module-sequence.html#~each">each</a></li><li data-type='method'><a href="module-sequence.html#~enumerate">enumerate</a></li><li data-type='method'><a href="module-sequence.html#~extend">extend</a></li><li data-type='method'><a href="module-sequence.html#~extend1">extend1</a></li><li data-type='method'><a href="module-sequence.html#~filter">filter</a></li><li data-type='method'><a href="module-sequence.html#~find">find</a></li><li data-type='method'><a href="module-sequence.html#~first">first</a></li><li data-type='method'><a href="module-sequence.html#~flat">flat</a></li><li data-type='method'><a href="module-sequence.html#~flattenTree">flattenTree</a></li><li data-type='method'><a href="module-sequence.html#~foldl">foldl</a></li><li data-type='method'><a href="module-sequence.html#~foldr">foldr</a></li><li data-type='method'><a href="module-sequence.html#~group">group</a></li><li data-type='method'><a href="module-sequence.html#~intersperse">intersperse</a></li><li data-type='method'><a href="module-sequence.html#~into">into</a></li><li data-type='method'><a href="module-sequence.html#~iter">iter</a></li><li data-type='method'><a href="module-sequence.html#~join">join</a></li><li data-type='method'><a href="module-sequence.html#~last">last</a></li><li data-type='method'><a href="module-sequence.html#~list">list</a></li><li data-type='method'><a href="module-sequence.html#~lookahead">lookahead</a></li><li data-type='method'><a href="module-sequence.html#~map">map</a></li><li data-type='method'><a href="module-sequence.html#~mapSort">mapSort</a></li><li data-type='method'><a href="module-sequence.html#~mod">mod</a></li><li data-type='method'><a href="module-sequence.html#~next">next</a></li><li data-type='method'><a href="module-sequence.html#~nth">nth</a></li><li data-type='method'><a href="module-sequence.html#~obj">obj</a></li><li data-type='method'><a href="module-sequence.html#~prepend">prepend</a></li><li data-type='method'><a href="module-sequence.html#~product">product</a></li><li data-type='method'><a href="module-sequence.html#~range">range</a></li><li data-type='method'><a href="module-sequence.html#~range0">range0</a></li><li data-type='method'><a href="module-sequence.html#~reject">reject</a></li><li data-type='method'><a href="module-sequence.html#~repeat">repeat</a></li><li data-type='method'><a href="module-sequence.html#~repeatFn">repeatFn</a></li><li data-type='method'><a href="module-sequence.html#~reverse">reverse</a></li><li data-type='method'><a href="module-sequence.html#~second">second</a></li><li data-type='method'><a href="module-sequence.html#~seqEq">seqEq</a></li><li data-type='method'><a href="module-sequence.html#~skip">skip</a></li><li data-type='method'><a href="module-sequence.html#~skipWhile">skipWhile</a></li><li data-type='method'><a href="module-sequence.html#~slidingWindow">slidingWindow</a></li><li data-type='method'><a href="module-sequence.html#~sum">sum</a></li><li data-type='method'><a href="module-sequence.html#~take">take</a></li><li data-type='method'><a href="module-sequence.html#~takeDef">takeDef</a></li><li data-type='method'><a href="module-sequence.html#~takeUntil">takeUntil</a></li><li data-type='method'><a href="module-sequence.html#~takeUntilVal">takeUntilVal</a></li><li data-type='method'><a href="module-sequence.html#~takeWithFallback">takeWithFallback</a></li><li data-type='method'><a href="module-sequence.html#~tryFind">tryFind</a></li><li data-type='method'><a href="module-sequence.html#~tryFirst">tryFirst</a></li><li data-type='method'><a href="module-sequence.html#~tryLast">tryLast</a></li><li data-type='method'><a href="module-sequence.html#~tryNext">tryNext</a></li><li data-type='method'><a href="module-sequence.html#~tryNth">tryNth</a></li><li data-type='method'><a href="module-sequence.html#~trySecond">trySecond</a></li><li data-type='method'><a href="module-sequence.html#~trySkip">trySkip</a></li><li data-type='method'><a href="module-sequence.html#~trySlidingWindow">trySlidingWindow</a></li><li data-type='method'><a href="module-sequence.html#~union">union</a></li><li data-type='method'><a href="module-sequence.html#~union2">union2</a></li><li data-type='method'><a href="module-sequence.html#~uniq">uniq</a></li><li data-type='method'><a href="module-sequence.html#~zip">zip</a></li><li data-type='method'><a href="module-sequence.html#~zip2">zip2</a></li><li data-type='method'><a href="module-sequence.html#~zipLeast">zipLeast</a></li><li data-type='method'><a href="module-sequence.html#~zipLeast2">zipLeast2</a></li><li data-type='method'><a href="module-sequence.html#~zipLongest">zipLongest</a></li><li data-type='method'><a href="module-sequence.html#~zipLongest2">zipLongest2</a></li></ul></li><li><a href="module-stdtraits.html">stdtraits</a><ul class='methods'><li data-type='method'><a href="module-stdtraits.html#~assertEquals">assertEquals</a></li><li data-type='method'><a href="module-stdtraits.html#~assertUneq">assertUneq</a></li><li data-type='method'><a href="module-stdtraits.html#~assign">assign</a></li><li data-type='method'><a href="module-stdtraits.html#~deepclone">deepclone</a></li><li data-type='method'><a href="module-stdtraits.html#~del">del</a></li><li data-type='method'><a href="module-stdtraits.html#~empty">empty</a></li><li data-type='method'><a href="module-stdtraits.html#~eq">eq</a></li><li data-type='method'><a href="module-stdtraits.html#~get">get</a></li><li data-type='method'><a href="module-stdtraits.html#~has">has</a></li><li data-type='method'><a href="module-stdtraits.html#~isImmutable">isImmutable</a></li><li data-type='method'><a href="module-stdtraits.html#~keys">keys</a></li><li data-type='method'><a href="module-stdtraits.html#~pairs">pairs</a></li><li data-type='method'><a href="module-stdtraits.html#~replace">replace</a></li><li data-type='method'><a href="module-stdtraits.html#~setdefault">setdefault</a></li><li data-type='method'><a href="module-stdtraits.html#~shallowclone">shallowclone</a></li><li data-type='method'><a href="module-stdtraits.html#~size">size</a></li><li data-type='method'><a href="module-stdtraits.html#~typeIsImmutable">typeIsImmutable</a></li><li data-type='method'><a href="module-stdtraits.html#~uneq">uneq</a></li><li data-type='method'><a href="module-stdtraits.html#~values">values</a></li></ul></li><li><a href="module-trait.html">trait</a><ul class='methods'><li data-type='method'><a href="module-trait.html#~supports">supports</a></li><li data-type='method'><a href="module-trait.html#~valueSupports">valueSupports</a></li></ul></li><li><a href="module-typesafe.html">typesafe</a><ul class='methods'><li data-type='method'><a href="module-typesafe.html#~builder">builder</a></li><li data-type='method'><a href="module-typesafe.html#~create">create</a></li><li data-type='method'><a href="module-typesafe.html#~createFrom">createFrom</a></li><li data-type='method'><a href="module-typesafe.html#~ifdef">ifdef</a></li><li data-type='method'><a href="module-typesafe.html#~isdef">isdef</a></li><li data-type='method'><a href="module-typesafe.html#~isPrimitive">isPrimitive</a></li><li data-type='method'><a href="module-typesafe.html#~type">type</a></li><li data-type='method'><a href="module-typesafe.html#~typename">typename</a></li></ul></li></ul><h3>Interfaces</h3><ul><li><a href="module-hashing-Hashable.html">Hashable</a></li><li><a href="module-hashing-Hasher.html">Hasher</a></li><li><a href="module-sequence-Into.html">Into</a></li><li><a href="module-sequence-Sequence.html">Sequence</a></li><li><a href="module-stdtraits-Assign.html">Assign</a></li><li><a href="module-stdtraits-Deepclone.html">Deepclone</a></li><li><a href="module-stdtraits-Delete.html">Delete</a></li><li><a href="module-stdtraits-Equals.html">Equals</a></li><li><a href="module-stdtraits-Get.html">Get</a></li><li><a href="module-stdtraits-Has.html">Has</a></li><li><a href="module-stdtraits-Immutable.html">Immutable</a></li><li><a href="module-stdtraits-Pairs.html">Pairs</a></li><li><a href="module-stdtraits-Replace.html">Replace</a></li><li><a href="module-stdtraits-Setdefault.html">Setdefault</a></li><li><a href="module-stdtraits-Shallowclone.html">Shallowclone</a></li><li><a href="module-stdtraits-Size.html">Size</a></li></ul><h3>Global</h3><ul><li><a href="global.html#flatten">flatten</a></li><li><a href="global.html#multiline">multiline</a></li><li><a href="global.html#takeShort">takeShort</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">typesafe</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Help­ers for work­ing with types; spe­cific­ally de­signed
to al­low null/​un­defined to be treated the same as any other value.</p></div>
            

            
                




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
































            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="~builder"><span class="type-signature">(inner) </span>builder<span class="signature">(T, fn)</span><span class="type-signature"> &rarr; {*}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line455">line 455</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>The con­structor of a class into a func­tion.</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { as­sign } = Ob­ject;
const {
  cre­ate­From, curry, builder, as­sertSequenceEquals, type, map,
  ap­ply, Equals,
} = re­quire('fer­rum');

// Rep­res­ents a frac­tion a/​b
class Ra­tional {
  con­structor(nu­mer­ator, de­nom­in­ator) {
    as­sign(this, { nu­mer­ator, de­nom­in­ator });
  }

  [Equals.sym](otr) {
    re­turn this.nu­mer­ator === otr.nu­mer­ator
        &amp;&amp; this.de­nom­in­ator === otr.de­nom­in­ator;
  }
};

// I like to provide a static, curry­able new method; builder()
// sets the .length and .name prop­er­ties; which is why I prefer it
// over an ad-hoc con­struc­tion.
Ra­tional.new = curry('Ra­tional.new', builder(Ra­tional));
const Halfs = Ra­tional.new(2);
as­sert.deep­Stric­tEqual(
  Halfs(3),
  cre­ate­From(Ra­tional, { nu­mer­ator: 3, de­nom­in­ator: 2 }));

// This is equi­val­ent to
Ra­tional.new2 = curry('Ra­tional.new2',
  (nu­mer­ator, de­nom­in­ator) =&gt;
    new Ra­tional(nu­mer­ator, de­nom­in­ator));

const par = [
  [3, 4],
  [14, 11],
];
const ref = [
  cre­ate­From(Ra­tional, { nu­mer­ator: 3, de­nom­in­ator: 4 }),
  cre­ate­From(Ra­tional, { nu­mer­ator: 14, de­nom­in­ator: 11 }),
];

// Now you can use this func­tion like any other func­tion
as­sertSequenceEquals(map(par, ap­ply(Ra­tional.new)), ref);
as­sertSequenceEquals(map(par, ap­ply(Ra­tional.new2)), ref);

// Of course you can use this on the fly too – most lib­rar­ies
// wont come with classes fea­tur­ing a .new method.
as­sertSequenceEquals(map(par, ap­ply(builder(Ra­tional))), ref);

// Without builder you would have to write this:
as­sertSequenceEquals(map(par, (args) =&gt; new Ra­tional(...args)), ref);

// This func­tion is null and un­defined safe
as­sert.stric­tEqual(builder(type(null))(), null);
as­sert.stric­tEqual(builder(type(un­defined))(), un­defined);

// And since type(null|un­defined) is defined to be the
// iden­tity func­tion
as­sert.stric­tEqual(builder(null)(), null);
as­sert.stric­tEqual(builder(un­defined)(), un­defined);
</code></pre>
<h1>Ver­sion his­tory</h1>
<ul>
<li>1.9.0 Ini­tial im­ple­ment­a­tion</li>
</ul>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>T</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last"><p>The type to get the con­struct off</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The muta­tion pro­ced­ure</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>obj</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~create"><span class="type-signature">(inner) </span>create<span class="signature">(t)</span><span class="type-signature"> &rarr; {t}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line215">line 215</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-typesafe.html#~createFrom">createFrom()</a></p></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>In­stan­ti­ate a class by­passing it's con­structor.</p>
<p><a href="module-typesafe.html#~createFrom">cre­ate­From()</a> con­tains a
more de­tailed dis­cus­sion of why you would want to use this.</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { cre­ate, type } = re­quire('fer­rum');

class Foo {
  con­structor() {
     as­sert(false, "Un­reach­able!");
  }
};

// Cre­ate by­passes the nor­mal con­structor
const foo = cre­ate(Foo);
as­sert.stric­tEqual(type(foo), Foo);

// Cre­ate() is null and un­defined safe. (Re­mem­ber type(null|un­defined) = null|un­defined)
as­sert.stric­tEqual(cre­ate(type(null)), null);
as­sert.stric­tEqual(cre­ate(type(un­defined)), un­defined);
as­sert.stric­tEqual(cre­ate(null), null);
as­sert.stric­tEqual(cre­ate(un­defined), un­defined);
</code></pre>
<h1>Ver­sion his­tory</h1>
<ul>
<li>1.9.0 Ini­tial im­ple­ment­a­tion</li>
</ul>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last"><p>The type to con­struct.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The in­stance of the given type.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">t</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~createFrom"><span class="type-signature">(inner) </span>createFrom<span class="signature">(t)</span><span class="type-signature"> &rarr; {t}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line369">line 369</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>In­stan­ti­ate a class and set fields, by­passing it's con­structor.</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { cre­ate­From, type } = re­quire('fer­rum');

class Foo {
  con­structor() {
     as­sert(false, "Un­reach­able!");
  }
};

// By­passes the con­structor and sets fields.
const foo = cre­ate­From(Foo, { an­swer: 42 });
as­sert.stric­tEqual(type(foo), Foo);
as­sert.stric­tEqual(foo.an­swer, 42);
</code></pre>
<p>// Cre­ate by­passes the nor­mal con­structor
const foo = cre­ate(Foo);
as­sert.stric­tEqual(type(foo) === Foo);</p>
<p>This can be very use­ful when de­fin­ing mul­tiple con­struct­ors,
when by­passing the de­fault con­structor in a method or when
the nor­mal con­structor can not be used be­cause con­struc­tion
is async.</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { cre­ate­From, curry } = re­quire('fer­rum');
const { as­sign } = Ob­ject;

const { abs } = Math;

const xor = (a, b) =&gt; Boolean(a) ^ Boolean(b) ? (a||b) : null;

const gcd = (a, b) =&gt; {
  if (a &lt; b)
    re­turn gcd(b, a);
  else if (b === 0)
    re­turn a;
  else
    re­turn gcd(b, a%b);
};

// Rep­res­ents a frac­tion a/​b
class Ra­tional {
  con­structor(nu­mer­ator, de­nom­in­ator) {
    // Nor­mal­ize the frac­tion so we use a nor­mal­ized rep­res­ent­a­tion:
    // The frac­tion is fully re­duced and the sign is stored in the nu­mer­ator
    const n = abs(nu­mer­ator), d = abs(de­nom­in­ator);
    const s = xor(nu­mer­ator&lt;0, de­nom­in­ator&lt;0) ? -1 : +1;
    const g = gcd(n, d);
    as­sign(this, {
      nu­mer­ator: s*n/​g,
      de­nom­in­ator: d/​g,
    });
  }

  mul(otr) {
    // Cir­cum­vent the con­struc­tion as we mul­tiply­ing two nor­mal­ized
    // Ra­tional yields an­other nor­mal­ized Ra­tional; no use wast­ing cycles
    re­turn cre­ate­From(Ra­tional, {
      nu­mer­ator: this.nu­mer­ator * otr.nu­mer­ator,
      de­nom­in­ator: this.de­nom­in­ator * otr.de­nom­in­ator,
    });
  }

  // ... other meth­ods ...
};

Ra­tional.new = curry('Ra­tional.new', (num, den) =&gt;
  new Ra­tional(num, den));

// Provide a con­structor from int; again we know this
// is nor­mal­ized; no use wast­ing cycles
Ra­tional.fro­mIn­teger = (i) =&gt; cre­ate­From(Ra­tional, {
  nu­mer­ator: i,
  de­nom­in­ator: 1,
});

// Fi­nally we can short­cut the con­structor while test­ing
as­sert.deep­Stric­tEqual(
  new Ra­tional(15, 3),
  cre­ate­From(Ra­tional, { nu­mer­ator: 5, de­nom­in­ator: 1 }));
as­sert.deep­Stric­tEqual(
  Ra­tional.new(6, 8),
  cre­ate­From(Ra­tional, { nu­mer­ator: 3, de­nom­in­ator: 4 }));
as­sert.deep­Stric­tEqual(
  Ra­tional.new(6, -8),
  cre­ate­From(Ra­tional, { nu­mer­ator: -3, de­nom­in­ator: 4 }));
as­sert.deep­Stric­tEqual(
  Ra­tional.new(6, -8).mul(Ra­tional.new(-3, 2)),
  cre­ate­From(Ra­tional, { nu­mer­ator: 9, de­nom­in­ator: 8 }));
</code></pre>
<p>Fi­nally, it can be used to cre­ate classes with async con­struct­ors us­ing this pat­tern:</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { cre­ate­From, type } = re­quire('fer­rum');

class MyData­base {
  con­structor() {
    as­sert(false, "Use await MyData­base.new(), not new MyData­base()")
  }
};

MyData­base.new = async (file) =&gt; {
  // ... do io ...
  re­turn cre­ate­From(MyData­base, { file });
};

const main = async () =&gt; {
  const p = MyData­base.new("ford/​pre­fect");
  as­sert.stric­tEqual(type(p), Prom­ise);
  as­sert.deep­Stric­tEqual(await p, cre­ate­From(MyData­base, { file: "ford/​pre­fect" }));
};

await main();
</code></pre>
<p>Cre­ate from is null and un­defined safe.</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { cre­ate­From, type } = re­quire('fer­rum');

as­sert.stric­tEqual(cre­ate­From(type(null), {}), null);
as­sert.stric­tEqual(cre­ate­From(type(un­defined), {}), un­defined);

// type() is defined to be the iden­tity func­tion for null and un­defined

as­sert.stric­tEqual(cre­ate­From(null, {}), null);
as­sert.stric­tEqual(cre­ate­From(un­defined, {}), un­defined);

// Do not sup­ply data! Since data can­not be as­signed to null and
// un­defined, this will throw
as­sert.throws(() =&gt; cre­ate­From(null, { foo: 42 }));
as­sert.throws(() =&gt; cre­ate­From(un­defined, { foo: 42 }));
</code></pre>
<h1>Ver­sion his­tory</h1>
<ul>
<li>1.9.0 Ini­tial im­ple­ment­a­tion</li>
</ul>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last"><p>The type to con­struct.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The in­stance of the given type.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">t</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~ifdef"><span class="type-signature">(inner) </span>ifdef<span class="signature">(v, fn)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Ap­ply the given func­tion to the value only if the value is defined
(not null or un­defined).</p>
<p>This ba­sic­ally im­ple­ments Op­tional se­mantics us­ing null/​un­defined.</p>
<pre class="prettyprint source lang-js"><code>const { stric­tEqual: as­sertIs } = re­quire('assert');
const { as­sertSequenceEquals, plus,  is­def, if­def, map } = re­quire('fer­rum');

const o = {
  foo: 42
};

as­sertIs(if­def(o['foo'], plus(2)), 44);
as­sertIs(if­def(o['bar'], plus(2)), un­defined);

// This is par­tic­u­larly use­ful for map or curry
as­sertSequenceEquals(
  map([1, 2, null, 3], if­def(x =&gt; x*3)),
  [3,6,null,9]);

// Without if­def the pipe above would have to be manu­ally writ­ten,
// which is a bit harder to read
as­sertSequenceEquals(
  map([1, 2, null, 3], (x) =&gt; is­def(x) ? x*3 : x),
  [3, 6, null, 9]);
</code></pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>null | un­defined | typeof(fn())</p>
</div>



    



        
            

    

    <h4 class="name" id="~isdef"><span class="type-signature">(inner) </span>isdef<span class="signature">(v)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Checks whether a value is null or un­defined</p>
<pre class="prettyprint source lang-js"><code>const as­sert = re­quire('assert');
const { is­def } = re­quire('fer­rum');

as­sert(is­def(0));
as­sert(is­def(false));
as­sert(!is­def(null));
as­sert(!is­def(un­defined));
</code></pre>
<p>This func­tion con­siders all val­ues that are not null
and not un­defined to be defined.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~isPrimitive"><span class="type-signature">(inner) </span>isPrimitive<span class="signature">(v)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Test if a value is prim­it­ive</p>
<pre class="prettyprint source lang-js"><code>const { stric­tEqual: as­sertIs } = re­quire('assert');
const { isPrim­it­ive } = re­quire('fer­rum');

as­sertIs(isPrim­it­ive(null),      true);
as­sertIs(isPrim­it­ive(un­defined), true);
as­sertIs(isPrim­it­ive(true),      true);
as­sertIs(isPrim­it­ive(false),     true);
as­sertIs(isPrim­it­ive(Sym­bol()),  true);
as­sertIs(isPrim­it­ive(""),        true);
as­sertIs(isPrim­it­ive(42),        true);
as­sertIs(isPrim­it­ive({}),        false);
as­sertIs(isPrim­it­ive(new Num­ber(42)), false);
</code></pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~type"><span class="type-signature">(inner) </span>type<span class="signature">(v)</span><span class="type-signature"> &rarr; {function|null|undefined}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line118">line 118</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>De­term­ine type of an ob­ject.</p>
<pre class="prettyprint source lang-js"><code>const { stric­tEqual: as­sertIs } = re­quire('assert');
const { type } = re­quire('fer­rum');

class Bar {};

as­sertIs(type(null),           null);
as­sertIs(type(un­defined),      un­defined);
as­sertIs(type({}),             Ob­ject);
as­sertIs(type(42),             Num­ber);
as­sertIs(type(new Num­ber(42)), Num­ber);
as­sertIs(type(new Bar()),      Bar);

// The usual strategy to get the type is this
as­sertIs(new Bar().con­structor, Bar);

// Which fails for null and un­defined...
//null.con­structor
// Thrown:
// TypeEr­ror: Can­not read prop­erty 'con­struct­or' of null
</code></pre>
<p>Like obj.con­structor, but won't fail for null/​un­defined and just
re­turns the value it­self for those.
This is a use­ful fea­ture for code that is sup­posed to be
null/​un­defined-safe since those need not be spe­cial cased.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The type of the given para­meter</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>
|

<span class="param-type">null</span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~typename"><span class="type-signature">(inner) </span>typename<span class="signature">(The)</span><span class="type-signature"> &rarr; {String}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typesafe.js.html">typesafe.js</a>, <a href="typesafe.js.html#line152">line 152</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Given a type, de­term­ine it's name.</p>
<pre class="prettyprint source lang-js"><code>const { stric­tEqual: as­sertIs } = re­quire('assert');
const { type, type­name } = re­quire('fer­rum');

class Bar {};

as­sertIs(type­name(null),            "null");
as­sertIs(type­name(un­defined),       "un­defined");
as­sertIs(type­name(type(null)),      "null");
as­sertIs(type­name(type(un­defined)), "un­defined");
as­sertIs(type­name(type({})),        "Ob­ject");
as­sertIs(type­name(type(42)),        "Num­ber");
as­sertIs(type­name(Bar),             "Bar");

// The usual strategy to get the name of a value's type is this
as­sertIs(new Bar().con­structor.name, "Bar");

// But this ob­vi­ously fails for null &amp; un­defined
//null.con­structor.name
//null.name // still throws
</code></pre>
<p>This is use­ful as a re­place­ment for val.con­structor.name,
since this can deal with null and un­defined.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>The</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">null</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last"><p>type to get the name of</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Fri Apr 16 2021 16:48:42 GMT+0200 (Central European Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>